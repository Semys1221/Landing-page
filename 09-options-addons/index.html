<!doctype html>
<html lang="fr">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Saturnin Gestion - Configuration Mandat</title>
  
  <link rel="icon" type="image/png" href="../favicon.png">
  
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            width: 100%;
        }

        :root {
            --bg: #000000;
            --card: #050505;
            --border: #222222;
            --accent: #0070f3;
            --text: #ffffff;
            --text-dim: #888888;
        }

        body {
            background: var(--bg);
            color: var(--text);
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            overflow: hidden;
        }

        .app-container {
            height: 100%;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 30px;
            padding: 20px;
        }

        .header {
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
        }

        .pill {
            display: inline-block;
            background: rgba(0, 112, 243, 0.1);
            border: 1px solid var(--accent);
            border-radius: 20px;
            padding: 8px 16px;
        }

        .pill-text {
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 0.5px;
            color: var(--accent);
            text-transform: uppercase;
        }

        .brand-title {
            font-size: 32px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .carousel-outer-wrapper {
            position: relative;
            width: 100%;
            max-width: 560px;
        }

        .nav-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text);
            font-size: 20px;
            cursor: pointer;
            z-index: 10;
            transition: 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-arrow:hover {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        .nav-arrow.left {
            left: -50px;
        }

        .nav-arrow.right {
            right: -50px;
        }

        .carousel-viewport {
            overflow: hidden;
            border-radius: 12px;
            border: 1px solid var(--border);
            background: var(--card);
        }

        .carousel-track {
            display: flex;
            transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .slide {
            min-width: 100%;
            padding: 40px;
            height: 480px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .card-body {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .icon-box {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .icon-box svg {
            width: 100%;
            height: 100%;
        }

        .slide h2 {
            font-size: 20px;
            font-weight: 700;
            line-height: 1.3;
        }

        .slide p {
            font-size: 14px;
            color: var(--text-dim);
            line-height: 1.6;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 10px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px;
            background: #0a0a0a;
            border: 1px solid var(--border);
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            transition: 0.3s;
        }

        .radio-option:hover {
            border-color: var(--accent);
            background: rgba(0, 112, 243, 0.05);
        }

        .radio-option input[type="radio"] {
            cursor: pointer;
            accent-color: var(--accent);
        }

        .radio-option span {
            flex: 1;
        }

        .card-footer {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.3s;
            border: 1px solid transparent;
        }

        .btn-primary {
            background: var(--accent);
            color: white;
            border: none;
        }

        .btn-primary:hover {
            background: #0056d9;
            box-shadow: 0 0 20px rgba(0, 112, 243, 0.4);
        }

        .btn-ghost {
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text-dim);
        }

        .btn-ghost:hover {
            border-color: var(--text);
            color: var(--text);
        }

        .global-actions {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .progress-nav {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .p-dot {
            width: 6px;
            height: 6px;
            background: var(--border);
            border-radius: 50%;
            transition: 0.4s;
            cursor: pointer;
        }

        .p-dot:hover {
            background: var(--accent);
        }

        .p-dot.active {
            background: var(--accent);
            width: 20px;
            border-radius: 4px;
        }

        .btn-terminal {
            background: transparent;
            border: 1px solid var(--accent);
            color: var(--accent);
            padding: 12px 40px;
            border-radius: 4px;
            text-transform: uppercase;
            font-size: 11px;
            letter-spacing: 2px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.3s;
        }

        .btn-terminal:hover {
            background: var(--accent);
            color: white;
            box-shadow: 0 0 20px rgba(0, 112, 243, 0.3);
        }

        .success-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--accent);
            color: white;
            padding: 16px 24px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            animation: slideIn 0.4s ease-out;
            z-index: 100;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @media (max-width: 768px) {
            .nav-arrow {
                width: 36px;
                height: 36px;
                font-size: 18px;
            }

            .nav-arrow.left {
                left: -40px;
            }

            .nav-arrow.right {
                right: -40px;
            }

            .slide {
                padding: 30px;
                height: auto;
                min-height: 420px;
            }

            .brand-title {
                font-size: 24px;
            }

            .slide h2 {
                font-size: 18px;
            }
        }
    </style>
  <style>body { box-sizing: border-box; }</style>
  <script src="https://cdn.tailwindcss.com/3.4.17" type="text/javascript"></script>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body>
  <div class="app-container">
   <header class="header">
    <div class="pill">
     <span class="pill-text">Configuration Mandat</span>
    </div>
    <h1 class="brand-title">Saturnin Gestion</h1>
   </header>
   <div class="carousel-outer-wrapper">
    <button class="nav-arrow left" onclick="moveSlide(-1)">‹</button> <button class="nav-arrow right" onclick="moveSlide(1)">›</button>
    <div class="carousel-viewport">
     <div class="carousel-track" id="track">
      <div class="slide">
       <div class="card-body">
        <div class="icon-box" id="svg-reporting"></div>
        <h2>Lettre de Conjoncture</h2>
        <p>Reporting mensuel de vos datas. Une analyse chiffrée pour piloter votre croissance comme un portefeuille d'actifs.</p>
       </div>
       <div class="card-footer">
        <button class="btn btn-ghost" onclick="moveSlide(1)">Ignorer</button> <button class="btn btn-primary" onclick="addOption('Reporting', 1)">Ajouter</button>
       </div>
      </div>
      <div class="slide">
       <div class="card-body">
        <div class="icon-box" id="svg-boost"></div>
        <h2>Performance &amp; Réactivation</h2>
        <p>Relance de vos 500 leads dormants + Accompagnement stratégique du R1 au R3 pour booster votre conversion jusqu'à +30%.</p>
       </div>
       <div class="card-footer">
        <button class="btn btn-ghost" onclick="moveSlide(1)">Ignorer</button> <button class="btn btn-primary" onclick="addOption('Performance', 1)">Ajouter</button>
       </div>
      </div>
      <div class="slide">
       <div class="card-body">
        <div class="icon-box" id="svg-comm"></div>
        <h2>Canal de Communication</h2>
        <p>Sélectionnez votre canal privilégié pour les échanges stratégiques avec votre Product Architect :</p>
        <div class="radio-group">
         <label class="radio-option"> <input type="radio" name="comm_channel" value="email"> <span>Email (Officiel &amp; Structuré)</span> </label> <label class="radio-option"> <input type="radio" name="comm_channel" value="gchat"> <span>Google Chat (Réactivité &amp; Instantanéité)</span> </label>
        </div>
       </div>
       <div class="card-footer">
        <button class="btn btn-ghost" onclick="moveSlide(-1)">Retour</button> <button class="btn btn-primary" onclick="moveSlide(1)">Suivant</button>
       </div>
      </div>
      <div class="slide">
       <div class="card-body">
        <div class="icon-box" id="svg-vault"></div>
        <h2>Optimisation Opérationnelle</h2>
        <p>Sélectionnez votre levier de structuration prioritaire :</p>
        <div class="radio-group">
         <label class="radio-option"> <input type="radio" name="final_choice" value="vault"> <span>Essai Montis Vault 30 jours (Conversion)</span> </label> <label class="radio-option"> <input type="radio" name="final_choice" value="crm"> <span>Accompagnement personnalisé CRM</span> </label>
        </div>
       </div>
       <div class="card-footer">
        <button class="btn btn-ghost" onclick="moveSlide(-1)">Retour</button> <button class="btn btn-primary" onclick="finishConfig()">Valider le choix</button>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div class="global-actions">
    <div class="progress-nav" id="dots">
     <span class="p-dot active" onclick="goToSlide(0)"></span> <span class="p-dot" onclick="goToSlide(1)"></span> <span class="p-dot" onclick="goToSlide(2)"></span> <span class="p-dot" onclick="goToSlide(3)"></span>
    </div><button class="btn-terminal" onclick="finishConfig()">Terminer la configuration</button>
   </div>
  </div>
  <script>
        // SVG Icons
        const icons = {
            reporting: `<svg viewBox="0 0 24 24" fill="none" stroke="#0070f3" stroke-width="1.5"><path d="M21.21 15.89A10 10 0 118 2.83M22 12A10 10 0 0012 2v10z"/></svg>`,
            boost: `<svg viewBox="0 0 24 24" fill="none" stroke="#0070f3" stroke-width="1.5"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>`,
            comm: `<svg viewBox="0 0 24 24" fill="none" stroke="#0070f3" stroke-width="1.5"><path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"/></svg>`,
            vault: `<svg viewBox="0 0 24 24" fill="none" stroke="#0070f3" stroke-width="1.5"><rect x="3" y="11" width="18" height="11" rx="2" ry="2" /><path d="M7 11V7a5 5 0 0110 0v4" /></svg>`
        };

        // Render SVGs
        document.getElementById('svg-reporting').innerHTML = icons.reporting;
        document.getElementById('svg-boost').innerHTML = icons.boost;
        document.getElementById('svg-comm').innerHTML = icons.comm;
        document.getElementById('svg-vault').innerHTML = icons.vault;

        // Carousel Logic
        let currentSlide = 0;
        const totalSlides = 4;
        let selectedOptions = [];

        function updateUI() {
            const track = document.getElementById('track');
            const dots = document.querySelectorAll('.p-dot');
            track.style.transform = `translateX(-${currentSlide * 100}%)`;
            dots.forEach((dot, i) => dot.classList.toggle('active', i === currentSlide));
        }

        function moveSlide(direction) {
            currentSlide = Math.max(0, Math.min(totalSlides - 1, currentSlide + direction));
            updateUI();
        }

        function goToSlide(index) {
            currentSlide = index;
            updateUI();
        }

        function addOption(name, next) {
            selectedOptions.push(name);
            moveSlide(next);
        }

        function showMessage(text) {
            const message = document.createElement('div');
            message.className = 'success-message';
            message.textContent = text;
            document.body.appendChild(message);
            
            setTimeout(() => {
                message.remove();
            }, 3000);
        }

        function finishConfig() {
            const channel = document.querySelector('input[name="comm_channel"]:checked');
            const choice = document.querySelector('input[name="final_choice"]:checked');
            const channelText = channel ? channel.nextElementSibling.textContent.trim() : 'Non spécifié';
            const choiceText = choice ? choice.nextElementSibling.textContent.trim() : 'Non spécifié';
            
            showMessage(`✓ Mandat finalisé : ${selectedOptions.join(', ') || 'Aucune option'} • Canal : ${channelText} • ${choiceText}`);
            
            // REDIRECTION VERS L'ÉTAPE SUIVANTE
            setTimeout(() => {
                window.location.href = "../10-basket-alignment/";
            }, 1000);
        }

        // Initialize
        updateUI();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9d3d4039e4630dad',t:'MTc3MjA4NTkyOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
